{"ast":null,"code":"import _slicedToArray from\"/Users/sukritidawar/Desktop/webD/instagram-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import Post from'./Post.js';import{db,auth}from'./firebase';import{makeStyles}from'@material-ui/core/styles';import Modal from'@material-ui/core/Modal';import{Button,Input}from'@material-ui/core';import{signOut,signInWithEmailAndPassword}from\"firebase/auth\";import ImageUpload from'./ImageUpload';import InstagramEmbed from'react-instagram-embed';// require('firebase/auth');\nfunction getModalStyle(){var top=50;var left=50;return{top:\"\".concat(top,\"%\"),left:\"\".concat(left,\"%\"),transform:\"translate(-\".concat(top,\"%, -\").concat(left,\"%)\")};}var useStyles=makeStyles(function(theme){return{paper:{position:\"absolute\",width:400,backgroundColor:theme.palette.background.paper,border:'2px solid #000',boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)}};});function App(){var _useState=useState(getModalStyle),_useState2=_slicedToArray(_useState,1),modalStyle=_useState2[0];var classes=useStyles();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),username=_useState8[0],setUsername=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),password=_useState12[0],setPassword=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),user=_useState14[0],setUser=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),openSignIn=_useState16[0],setOpenSignIn=_useState16[1];useEffect(function(){var unsubscribe=auth.onAuthStateChanged(function(authUser){if(authUser){//user has logged in\nconsole.log(authUser);setUser(authUser);}else{//user logged out\nsetUser(null);}});return function(){//perform some cleanup actions\nunsubscribe();};},[user,username]);// Sign Up backend\nvar signUp=function signUp(event){event.preventDefault();//so that it does not refresh everytime we enter a field\nauth.createUserWithEmailAndPassword(email,password).then(function(authUser){return authUser.user.updateProfile({displayName:username}).then(function(){// Profile updated!\n// console.log(\"profile updated\");\n}).catch(function(error){return alert(error.message);});}).catch(function(error){return alert(error.message);});setOpen(false);};// Sign In backend\nvar signIn=function signIn(event){event.preventDefault();auth.signInWithEmailAndPassword(email,password).catch(function(error){return alert(error.message);});setOpenSignIn(false);};// useEffect runs a piece of code based on a specific condition\nuseEffect(function(){db.collection('posts').orderBy('timestamp','desc').onSnapshot(function(snapshot){// every time a new post is ad ded, this code runs\nsetPosts(snapshot.docs.map(function(doc){return{id:doc.id,post:doc.data()};}));});},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(Modal,{open:open,onClose:function onClose(){return setOpen(false);}},/*#__PURE__*/React.createElement(\"div\",{style:modalStyle,className:classes.paper},/*#__PURE__*/React.createElement(\"form\",{className:\"app__signup\"},/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"})),/*#__PURE__*/React.createElement(Input,{placeholder:\"username\",type:\"text\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/React.createElement(Input,{placeholder:\"email\",type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/React.createElement(Input,{placeholder:\"password\",type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",onClick:signUp},\"Sign Up\")))),/*#__PURE__*/React.createElement(Modal,{open:openSignIn,onClose:function onClose(){return setOpenSignIn(false);}},/*#__PURE__*/React.createElement(\"div\",{style:modalStyle,className:classes.paper},/*#__PURE__*/React.createElement(\"form\",{className:\"app__signup\"},/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"})),/*#__PURE__*/React.createElement(Input,{placeholder:\"email\",type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/React.createElement(Input,{placeholder:\"password\",type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",onClick:signIn},\"Sign In\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"app__header\"},/*#__PURE__*/React.createElement(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"}),user?/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return signOut(auth).then(function(){// Sign-out successful.\n});}},\"Log Out\"):/*#__PURE__*/React.createElement(\"div\",{className:\"app__loginContainer\"},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setOpenSignIn(true);}},\"Sign In\"),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setOpen(true);}},\"Sign Up\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"app__posts\"},/*#__PURE__*/React.createElement(\"div\",{className:\"app__posts_left\"},posts.map(function(_ref){var id=_ref.id,post=_ref.post;return/*#__PURE__*/React.createElement(Post,{key:id,postId:id,user:user,username:post.username,caption:post.caption,imageURL:post.imageUrl});})),/*#__PURE__*/React.createElement(\"div\",{className:\"app__posts_right\"},/*#__PURE__*/React.createElement(InstagramEmbed,{url:\"https://www.instagram.com/p/B_uf9dmAGPw/\",clientAccessToken:\"{appId}|{clientToken}\",maxWidth:320,hideCaption:false,containerTagName:\"div\",protocol:\"\",injectScript:true,onLoading:function onLoading(){},onSuccess:function onSuccess(){},onAfterRender:function onAfterRender(){},onFailure:function onFailure(){alert(\"error\");}}))),(user===null||user===void 0?void 0:user.displayName)?/*#__PURE__*/React.createElement(ImageUpload,{username:user.displayName}):/*#__PURE__*/React.createElement(\"h3\",null,\"Sorry you need to login to upload\"));}export default App;","map":{"version":3,"sources":["/Users/sukritidawar/Desktop/webD/instagram-clone/src/App.js"],"names":["React","useState","useEffect","Post","db","auth","makeStyles","Modal","Button","Input","signOut","signInWithEmailAndPassword","ImageUpload","InstagramEmbed","getModalStyle","top","left","transform","useStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","App","modalStyle","classes","posts","setPosts","open","setOpen","username","setUsername","email","setEmail","password","setPassword","user","setUser","openSignIn","setOpenSignIn","unsubscribe","onAuthStateChanged","authUser","console","log","signUp","event","preventDefault","createUserWithEmailAndPassword","then","updateProfile","displayName","catch","error","alert","message","signIn","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","post","data","e","target","value","caption","imageUrl"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Post from './Post.js';\nimport { db, auth } from './firebase';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport { Button, Input } from '@material-ui/core';\nimport { signOut, signInWithEmailAndPassword } from \"firebase/auth\";\nimport ImageUpload from './ImageUpload';\nimport InstagramEmbed from 'react-instagram-embed';\n\n// require('firebase/auth');\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nfunction App() {\n  const [modalStyle] = useState(getModalStyle);\n  const classes = useStyles();\n\n  const [posts, setPosts] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [user, setUser] = useState(null);\n  const [openSignIn, setOpenSignIn] = useState('');\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if(authUser) {\n        //user has logged in\n        console.log(authUser);\n        setUser(authUser);\n      }\n      else {\n        //user logged out\n        setUser(null);\n      }\n    })\n\n    return () => {\n      //perform some cleanup actions\n      unsubscribe();\n    }\n  }, [user, username]);\n\n  // Sign Up backend\n  const signUp = (event) => {\n    event.preventDefault(); //so that it does not refresh everytime we enter a field\n    auth.createUserWithEmailAndPassword(email, password)\n    .then((authUser) => {\n      return authUser.user.updateProfile({\n        displayName: username\n      }).then(() => {\n        // Profile updated!\n        // console.log(\"profile updated\");\n      }).catch((error) => alert(error.message));\n    })\n    .catch((error) => alert(error.message))\n\n    setOpen(false);\n  };\n\n  // Sign In backend\n  const signIn = (event) => {\n    event.preventDefault();\n\n    auth.signInWithEmailAndPassword(email, password)\n    .catch((error) => alert(error.message));\n\n    setOpenSignIn(false);\n  }\n\n// useEffect runs a piece of code based on a specific condition\n  useEffect( () => {\n    db.collection('posts').orderBy('timestamp', 'desc').onSnapshot(snapshot => {\n      // every time a new post is ad ded, this code runs\n      setPosts(snapshot.docs.map(doc => ({\n         id: doc.id,\n         post: doc.data()\n        })));\n    })\n  }, []);\n\n\n  return (\n    <div className=\"app\">\n\n      {/* Sign Up Modal */}\n      <Modal\n        open={open}\n        onClose={() => setOpen(false)}\n        >\n        <div style={modalStyle} className = {classes.paper}>\n          <form className = \"app__signup\"> \n            <center>\n              <img \n                className= \"app__headerImage\"\n                src = \"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt =\"\"\n              />\n            </center>\n            <Input \n              placeholder=\"username\"\n              type=\"text\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            <Input \n              placeholder=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n\n            <Input \n              placeholder=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button type=\"submit\" onClick={signUp}>Sign Up</Button>\n\n          </form>\n        </div>\n      </Modal>\n\n      {/* Sign In Modal */}\n      <Modal\n        open={openSignIn}\n        onClose={() => setOpenSignIn(false)}\n        >\n        <div style={modalStyle} className = {classes.paper}>\n          <form className = \"app__signup\"> \n            <center>\n              <img \n                className= \"app__headerImage\"\n                src = \"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt =\"\"\n              />\n            </center>\n            <Input \n              placeholder=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n\n            <Input \n              placeholder=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button type=\"submit\" onClick={signIn}>Sign In</Button>\n\n          </form>\n        </div>\n      </Modal>\n\n      {/* Header */}\n      <div className=\"app__header\">\n        <img \n          className= \"app__headerImage\"\n          src = \"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n          alt =\"\"\n        />\n        {user ? (\n        <Button onClick={() => signOut(auth).then(() => {\n          // Sign-out successful.\n        })}>Log Out</Button>\n        ) : (\n          <div className = \"app__loginContainer\">\n            <Button onClick={() => setOpenSignIn(true)}>Sign In</Button>\n            <Button onClick={() => setOpen(true)}>Sign Up</Button>\n          </div>\n        )}\n      </div>\n      \n      {/* Posts */}\n      <div className=\"app__posts\">\n        <div className=\"app__posts_left\">\n          {\n            posts.map(({id, post}) => (\n              <Post key = {id} postId = {id} \n              user={user} username={post.username} caption={post.caption} imageURL={post.imageUrl} />\n            ))\n          }\n        </div>\n        <div className=\"app__posts_right\">\n          <InstagramEmbed\n            url='https://www.instagram.com/p/B_uf9dmAGPw/'\n            clientAccessToken='{appId}|{clientToken}'\n            maxWidth={320}\n            hideCaption={false}\n            containerTagName='div'\n            protocol=''\n            injectScript\n            onLoading={() => {}}\n            onSuccess={() => {}}\n            onAfterRender={() => {}}\n            onFailure={() => {alert(\"error\");}}\n          />\n        </div>\n      </div>\n\n      {/* Image Upload */}\n      {user?.displayName ? (\n      <ImageUpload username={user.displayName} />\n      ) : (\n        <h3>Sorry you need to login to upload</h3>\n      )}\n\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}