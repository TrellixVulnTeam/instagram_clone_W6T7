{"ast":null,"code":"var _jsxFileName = \"/Users/sukritidawar/Desktop/webD/instagram-clone/src/Post.js\";\nimport React, { useState, useEffect } from 'react';\nimport './Post.css';\nimport Avatar from '@mui/material/Avatar';\nimport { db, auth } from './firebase';\nimport firebase from 'firebase/compat/app';\nimport { buttonBaseClasses } from '@mui/material';\n\nfunction Post(_ref) {\n  let {\n    postId,\n    username,\n    caption,\n    imageURL\n  } = _ref;\n  const [comments, setComments] = useState([]);\n  const [comment, setComment] = useState('');\n  useEffect(() => {\n    let unsubscribe;\n\n    if (postId) {\n      unsubscribe = db.collection(\"posts\").doc(postId).collection(\"comments\").orderBy('timestamp', 'asc').onSnapshot(snapshot => {\n        setComments(snapshot.docs.map(doc => doc.data()));\n      });\n    }\n\n    return () => {\n      unsubscribe();\n    };\n  }, [postId]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: \"post__avatar\",\n    alt: username,\n    src: \"/static/images/avatar/1.jpg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, username)), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"post__image\",\n    src: imageURL,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"post__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 41\n    }\n  }, username), \" \", caption), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"post__input\",\n    type: \"text\",\n    placeholder: \"Add a comment...\",\n    value: comment,\n    onChange: e => setComment(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: !comment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Post;","map":{"version":3,"sources":["/Users/sukritidawar/Desktop/webD/instagram-clone/src/Post.js"],"names":["React","useState","useEffect","Avatar","db","auth","firebase","buttonBaseClasses","Post","postId","username","caption","imageURL","comments","setComments","comment","setComment","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,YAAP;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,EAAT,EAAaC,IAAb,QAAyB,YAAzB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,SAASC,iBAAT,QAAkC,eAAlC;;AAEA,SAASC,IAAT,OAAqD;AAAA,MAAvC;AAACC,IAAAA,MAAD;AAASC,IAAAA,QAAT;AAAmBC,IAAAA,OAAnB;AAA4BC,IAAAA;AAA5B,GAAuC;AACjD,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,EAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIe,WAAJ;;AACA,QAAIR,MAAJ,EAAY;AACRQ,MAAAA,WAAW,GAAGb,EAAE,CACXc,UADS,CACE,OADF,EAETC,GAFS,CAELV,MAFK,EAGTS,UAHS,CAGE,UAHF,EAITE,OAJS,CAID,WAJC,EAIY,KAJZ,EAKTC,UALS,CAKGC,QAAD,IAAc;AACtBR,QAAAA,WAAW,CAACQ,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAmBL,GAAD,IAASA,GAAG,CAACM,IAAJ,EAA3B,CAAD,CAAX;AACH,OAPS,CAAd;AAQH;;AAED,WAAO,MAAM;AACTR,MAAAA,WAAW;AACd,KAFD;AAGH,GAhBQ,EAgBN,CAACR,MAAD,CAhBM,CAAT;AAkBA,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAK,IAAA,SAAS,EAAG,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AACA,IAAA,SAAS,EAAC,cADV;AAEA,IAAA,GAAG,EAAEC,QAFL;AAGA,IAAA,GAAG,EAAC,6BAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,QAAL,CAPJ,CAFJ,eAaI;AAAK,IAAA,SAAS,EAAG,aAAjB;AAA+B,IAAA,GAAG,EAAIE,QAAtC;AAAgD,IAAA,GAAG,EAAC,EAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbJ,eAgBI;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASF,QAAT,CAA5B,OAAyDC,OAAzD,CAhBJ,eAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,SAAS,EAAC,aADd;AAEI,IAAA,IAAI,EAAC,MAFT;AAGI,IAAA,WAAW,EAAC,kBAHhB;AAII,IAAA,KAAK,EAAEI,OAJX;AAKI,IAAA,QAAQ,EAAGW,CAAD,IAAOV,UAAU,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAL/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAQI;AACI,IAAA,QAAQ,EAAE,CAACb,OADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,CAlBJ,CADJ;AAoCH;;AAED,eAAeP,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './Post.css'\nimport Avatar from '@mui/material/Avatar'\nimport { db, auth } from './firebase';\nimport firebase from 'firebase/compat/app';\nimport { buttonBaseClasses } from '@mui/material';\n\nfunction Post({postId, username, caption, imageURL}) {\n    const [comments, setComments] = useState([]);\n    const [comment, setComment] = useState('');\n\n    useEffect(() => {\n        let unsubscribe;\n        if (postId) {\n            unsubscribe = db\n                .collection(\"posts\")\n                .doc(postId)\n                .collection(\"comments\")\n                .orderBy('timestamp', 'asc')\n                .onSnapshot((snapshot) => {\n                    setComments(snapshot.docs.map((doc) => doc.data()));\n                })\n        }\n\n        return () => {\n            unsubscribe();\n        };\n    }, [postId]);\n\n    return (\n        <div className=\"post\">\n            {/* header->avatar+username */}\n            <div className = \"post__header\">\n                <Avatar \n                className=\"post__avatar\"\n                alt={username} \n                src=\"/static/images/avatar/1.jpg\" \n                />\n\n                <h3>{username}</h3>\n            </div>\n\n            {/* image */}\n            <img className = \"post__image\" src = {imageURL} alt=\"\" />\n\n            {/* username+caption */}\n            <h4 className=\"post__text\"> <strong>{username}</strong> {caption}</h4>\n        \n            <form>\n                <input \n                    className=\"post__input\"\n                    type=\"text\"\n                    placeholder=\"Add a comment...\"\n                    value={comment}\n                    onChange={(e) => setComment(e.target.value)}\n                />\n                <button\n                    disabled={!comment}\n                    \n                />\n\n            </form>\n        \n        </div>\n    )\n}\n\nexport default Post\n"]},"metadata":{},"sourceType":"module"}