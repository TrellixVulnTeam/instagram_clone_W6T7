{"ast":null,"code":"var _jsxFileName = \"/Users/sukritidawar/Desktop/webD/instagram-clone/src/Post.js\";\nimport React, { useState, useEffect } from 'react';\nimport './Post.css';\nimport Avatar from '@mui/material/Avatar';\nimport { db, auth } from './firebase';\nimport firebase from 'firebase/compat/app';\n\nfunction Post(_ref) {\n  let {\n    postId,\n    username,\n    caption,\n    imageURL\n  } = _ref;\n  const [comments, setComments] = useState([]);\n  useEffect(() => {\n    let unsubscribe;\n\n    if (postId) {\n      unsubscribe = db.collection(\"posts\").doc(postId).collection(\"comments\").orderBy('timestamp', 'asc').onSnapshot(snapshot => {\n        setComments(snapshot.docs.map(doc => doc.data()));\n      });\n    }\n\n    return () => {\n      unsubscribe();\n    };\n  }, [postId]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: \"post__avatar\",\n    alt: username,\n    src: \"/static/images/avatar/1.jpg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }, username)), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"post__image\",\n    src: imageURL,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"post__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 41\n    }\n  }, username), \" \", caption), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Post;","map":{"version":3,"sources":["/Users/sukritidawar/Desktop/webD/instagram-clone/src/Post.js"],"names":["React","useState","useEffect","Avatar","db","auth","firebase","Post","postId","username","caption","imageURL","comments","setComments","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,YAAP;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,EAAT,EAAaC,IAAb,QAAyB,YAAzB;AACA,OAAOC,QAAP,MAAqB,qBAArB;;AAEA,SAASC,IAAT,OAAqD;AAAA,MAAvC;AAACC,IAAAA,MAAD;AAASC,IAAAA,QAAT;AAAmBC,IAAAA,OAAnB;AAA4BC,IAAAA;AAA5B,GAAuC;AACjD,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIY,WAAJ;;AACA,QAAIN,MAAJ,EAAY;AACRM,MAAAA,WAAW,GAAGV,EAAE,CACXW,UADS,CACE,OADF,EAETC,GAFS,CAELR,MAFK,EAGTO,UAHS,CAGE,UAHF,EAITE,OAJS,CAID,WAJC,EAIY,KAJZ,EAKTC,UALS,CAKGC,QAAD,IAAc;AACtBN,QAAAA,WAAW,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAmBL,GAAD,IAASA,GAAG,CAACM,IAAJ,EAA3B,CAAD,CAAX;AACH,OAPS,CAAd;AAQH;;AAED,WAAO,MAAM;AACTR,MAAAA,WAAW;AACd,KAFD;AAGH,GAhBQ,EAgBN,CAACN,MAAD,CAhBM,CAAT;AAkBA,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAK,IAAA,SAAS,EAAG,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AACA,IAAA,SAAS,EAAC,cADV;AAEA,IAAA,GAAG,EAAEC,QAFL;AAGA,IAAA,GAAG,EAAC,6BAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,QAAL,CAPJ,CAFJ,eAaI;AAAK,IAAA,SAAS,EAAG,aAAjB;AAA+B,IAAA,GAAG,EAAIE,QAAtC;AAAgD,IAAA,GAAG,EAAC,EAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbJ,eAgBI;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASF,QAAT,CAA5B,OAAyDC,OAAzD,CAhBJ,eAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAlBJ,CADJ;AAyBH;;AAED,eAAeH,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './Post.css'\nimport Avatar from '@mui/material/Avatar'\nimport { db, auth } from './firebase';\nimport firebase from 'firebase/compat/app';\n\nfunction Post({postId, username, caption, imageURL}) {\n    const [comments, setComments] = useState([]);\n\n    useEffect(() => {\n        let unsubscribe;\n        if (postId) {\n            unsubscribe = db\n                .collection(\"posts\")\n                .doc(postId)\n                .collection(\"comments\")\n                .orderBy('timestamp', 'asc')\n                .onSnapshot((snapshot) => {\n                    setComments(snapshot.docs.map((doc) => doc.data()));\n                })\n        }\n\n        return () => {\n            unsubscribe();\n        };\n    }, [postId]);\n\n    return (\n        <div className=\"post\">\n            {/* header->avatar+username */}\n            <div className = \"post__header\">\n                <Avatar \n                className=\"post__avatar\"\n                alt={username} \n                src=\"/static/images/avatar/1.jpg\" \n                />\n\n                <h3>{username}</h3>\n            </div>\n\n            {/* image */}\n            <img className = \"post__image\" src = {imageURL} alt=\"\" />\n\n            {/* username+caption */}\n            <h4 className=\"post__text\"> <strong>{username}</strong> {caption}</h4>\n        \n            <form>\n                <input />\n            </form>\n        \n        </div>\n    )\n}\n\nexport default Post\n"]},"metadata":{},"sourceType":"module"}